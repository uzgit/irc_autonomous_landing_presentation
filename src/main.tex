\documentclass[aspectratio=169]{beamer}
 
\usepackage[utf8]{inputenc}
\usepackage{lipsum}

\usepackage[backend=biber,bibencoding=utf8,style=verbose-inote,citestyle=authoryear]{biblatex}
%\usepackage{xpatch}
%\xapptobibmacro{cite}{\setunit{\nametitledelim}\printfield{year}}{}{}
%\usepackage[style=verbose-ibid,backend=bibtex]{biblatex}
%\usepackage[style=authoryear-ibid,backend=bibtex]{biblatex}
\bibliography{references}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Set Helvetica Font in Text and Math in LaTeX %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[helvet]{sfmath}
\usepackage[scaled=1]{helvet}
\usepackage[T1]{fontenc}
\renewcommand\familydefault{\sfdefault} 
\everymath={\sf}
\usepackage{fontspec}

\usepackage{subcaption}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
%    pdfpagemode=FullScreen,
}

% use settings files
\input{configuration_files/beamer_theme.tex}
\input{configuration_files/quotations.tex}

% Other packages
\usepackage{enumitem}
\setitemize{label=\usebeamerfont*{itemize item}%
  \usebeamercolor[fg]{itemize item}
  \usebeamertemplate{itemize item}}

\usepackage{amssymb}
\newcommand*{\QEDA}{\hfill\ensuremath{\blacksquare}}

\usepackage{datetime}
%\newdateformat{specialdate}{\twodigit{\THEDAY} \ \monthname[\THEMONTH] \THEYEAR}
\newdateformat{specialdate}{\THEDAY \ \monthname[\THEMONTH] \THEYEAR}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\nologo}{\setbeamertemplate{logo}{}}
\newcommand{\yeslogo}{\logo{\vspace{-0.5cm}\includegraphics[width=1.5cm]{./images/HR_logo_hringur_lowres}\hspace{0.5cm}}}

\yeslogo

\newif\ifpause
\pausetrue
%\pausefalse
\newcommand{\mypause}{\ifpause \pause \fi}

\usepackage{hyperref}
\hypersetup{
    colorlinks = false,
    linkbordercolor = {white}
}

%Information to be included in the title page:
\title{Autonomous Drone Landing with Fiducial Markers\\and a Gimbal-Mounted Camera for Active Tracking}
\author{Joshua Springer, Marcel Kyas}
\institute{Reykjavik University\\Department of Computer Science}

\date{\specialdate\today}

\begin{document}

\maketitle

\nologo

%\section{Background \& Related Work}

%\begin{frame}{Fiducial Markers}
%	\vspace*{\fill}
%	\begin{figure}[]
%	    \centering
%	    \begin{subfigure}[b]{0.21\linewidth}
%		\includegraphics[width=\textwidth]{./images/tagCustom48h12_00002_00001_00000}
%		    \caption{April Tag 48h12~\footcite{apriltag3_paper}}
%		\label{figure:apriltag48h12}
%	    \end{subfigure}
%%		\hspace{0.01\linewidth}
%	    \begin{subfigure}[b]{0.21\linewidth}
%		\includegraphics[width=\textwidth]{./images/tagCustom24h10_00002_00001_00000}
%		    \caption{April Tag 24h10~\footcite{fiducial_precursor_evaluation}}
%		\label{figure:apriltag24h10}
%	    \end{subfigure}
%%		\hspace{0.01\linewidth}
%	    \begin{subfigure}[b]{0.21\linewidth}
%		\includegraphics[width=\textwidth]{./images/whycode_20_8}
%		    \caption{WhyCode (Orig)\footcite{whycode_paper}}
%		\label{figure:whycode_single}
%	    \end{subfigure}
%%		\hspace{0.01\linewidth}
%	    \begin{subfigure}[b]{0.21\linewidth}
%		\includegraphics[width=\textwidth]{./images/whycode_multi}
%		    \caption{WhyCode Multi~\footcite{fiducial_precursor_evaluation}}
%		\label{figure:whycode_bundle}
%	    \end{subfigure}
%	    \label{figure:marker_setup}
%	\end{figure}
%	\mypause
%%	\vspace{1cm}
%	\begin{itemize}
%		\item Marker \emph{position} $\rightarrow$ accurate
%		\item Marker \emph{orientation} $\rightarrow$ ambiguous
%	\end{itemize}
%	\vspace*{\fill}
%\end{frame}
\begin{frame}{Fiducial Markers}
	\centering
	\begin{tabular}{cccc}

		\includegraphics[width=0.20\textwidth]{./images/tagCustom48h12_00002_00001_00000}
		&
		\includegraphics[width=0.20\textwidth]{./images/tagCustom24h10_00002_00001_00000}
		&
		\includegraphics[width=0.20\textwidth]{./images/whycode_20_8}
		&
		\includegraphics[width=0.20\textwidth]{./images/whycode_multi}
		\\
		    April Tag 48h12~\footcite{apriltag3_paper}
		    &
		    April Tag 24h10%~\footcite{fiducial_precursor_evaluation}
		    &
		    WhyCode~\footcite{whycode_paper} (Orig)
		    &
		    WhyCode Multi%~\footcite{fiducial_precursor_evaluation}
		    \\
		\end{tabular}
	\begin{itemize}
		\item Marker \emph{position} $\rightarrow$ accurate
		\item Marker \emph{orientation} $\rightarrow$ ambiguous
	\end{itemize}
	\vspace*{\fill}
\end{frame}

\begin{frame}{Orientation Ambiguity}
	\centering
	\vspace{\fill}
	\includegraphics[width=10cm]{./images/orbit-left-right-4_apriltag48h12_position-target}
%	\includegraphics[width=6.5cm]{./images/north-south_apriltag48h12}\mypause
%	\includegraphics[width=6.5cm]{./images/north-south_apriltag24h10}
	\vspace{\fill}
\end{frame}

%\begin{frame}{The Downward-facing Camera Paradigm}
%	\vspace*{\fill}
%	\begin{figure}[]
%	    \centering
%	    \begin{subfigure}[b]{0.3\linewidth}
%		\includegraphics[height=3cm]{./images/wubben_drone}
%		    \caption{Single fixed camera.~\cite{accurate_landing_UAV_ground_pattern}}
%	    \end{subfigure}
%		\hspace{0.01\linewidth}
%	    \begin{subfigure}[b]{0.3\linewidth}
%		\includegraphics[height=3cm]{./images/araar_drone}
%		    \caption{Dual fixed cameras.~\cite{fiducial_landing_many_markers_voting_fixed_camera}}
%	    \end{subfigure}
%		\hspace{0.01\linewidth}
%	    \begin{subfigure}[b]{0.3\linewidth}
%		\includegraphics[height=3cm]{./images/borowczyk_drone}
%		    \caption{Gimbal/fixed cameras.~\cite{high_velocity_landing}}
%	    \end{subfigure}
%	\end{figure}
%	\vspace{0.5cm}
%	\begin{itemize}
%		\item We want to leverage the standard monocular, gimbal-mounted camera.
%	\end{itemize}
%	\vspace*{\fill}
%\end{frame}
\begin{frame}{The Downward-facing Camera Paradigm}
	\centering
	\begin{tabular}{ccc}
		\includegraphics[height=3cm]{./images/wubben_drone}
		&
		\includegraphics[height=3cm]{./images/araar_drone}
		&
		\includegraphics[height=3cm]{./images/borowczyk_drone}
		\\
	        Single fixed camera.\footcite{accurate_landing_UAV_ground_pattern}
		&
		Dual fixed cameras.\footcite{fiducial_landing_many_markers_voting_fixed_camera}
		&
		Gimbal/fixed cameras.~\footcite{high_velocity_landing}
		\\
	\end{tabular}
	\vspace{0.5cm}
	\begin{itemize}
		\item We want to leverage the standard monocular, gimbal-mounted camera.
	\end{itemize}
	\vspace*{\fill}
\end{frame}

\begin{frame}{Testing Platform: DJI Spark}
	\begin{columns}
	\begin{column}{0.5\textwidth}
	\begin{itemize}
		\item Small quadcopter
		\item Gimbal-mounted camera
		\item DJI Mobile SDK
	\end{itemize}
	\end{column}
	\begin{column}{0.5\textwidth}
		\centering
		\includegraphics[width=\textwidth]{./images/dji_spark}
	\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Testing Platform: Software Side}
	\begin{columns}
	\begin{column}{0.5\textwidth}
	\begin{itemize}
		\item DJI Mobile SDK: App-style artchitecture
		\item Export video to Raspberry Pi 4 companion board
		\item Return control signals
	\end{itemize}
	\end{column}
	\begin{column}{0.5\textwidth}
		\centering
		\includegraphics[width=\textwidth]{./images/tablet_screenshot}
	\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Data Flow}
	\begin{figure}
		\centering
		\includegraphics[width=\textwidth]{./images/spark_architecture.drawio}
	\end{figure}
	\href{run:./autonomous_landing_demonstration.mp4}{Demonstration Video}
\end{frame}

\begin{frame}{Example Tracking Performance}
	\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{./images/tracking_example}
	\end{figure}
\end{frame}

%landing_trajectory.pdf
\begin{frame}{Example Landing Trajectory}
	\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{./images/landing_trajectory}
	\end{figure}
\end{frame}

\begin{frame}{Example Control Outputs}
	\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{./images/control_example}
	\end{figure}
\end{frame}

\begin{frame}{Control Outputs With Discontinuities}
	\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{./images/control_example_with_discontinuities}
	\end{figure}
\end{frame}

\begin{frame}{Landing Trajectory with Discontinuities}
	\begin{figure}
		\centering
		\includegraphics[width=0.7\textwidth]{./images/landing_trajectory_with_discontinuities}
	\end{figure}
\end{frame}

\begin{frame}{Landing Error (Lower is better!)}
	\begin{figure}
		\centering
		\includegraphics[width=0.65\textwidth]{./images/violin_plot_landing_radii}
	\end{figure}
\end{frame}

\begin{frame}{Future Work}
	\begin{itemize}
		\item Use another drone platform\mypause
		\begin{itemize}
			\item Phantom, Mavic, custom Tarot platform\mypause
			\item More gimbal tilt range
		\end{itemize}
			\mypause
		\item Connect companion board directly to controller
			\mypause
		\item Test 3 separate methods for each fiducial system:
			\mypause
		\begin{itemize}
			\item Raw/unfiltered marker pose
				\mypause
			\item Filtered marker pose, e.g.~KF
				\mypause
			\item Marker \emph{position} and gimbal \emph{orientation} for pose transforms
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}{Main Messages}
	\begin{itemize}
		\item \emph{Actuated}, gimbal-mounted camera
			\mypause $\rightarrow$ easier to search for the landing pad.
		\mypause\item Orientation ambiguity, discontinuities
			\mypause $\rightarrow$ pose estimation is harder.
		\mypause\item Autonomous precision landing still possible
			\mypause but can be improved.
	\end{itemize}
\end{frame}

%\begin{frame}{References}
%	\setbeamertemplate{bibliography item}[triangle]
%	%\bibliographystyle{plain}
%	%\bibliography{references}
%	%\fontsize{3pt}{3}\selectfont
%%	\makeatletter
%%	\newcommand{\srcsize}{\@setfontsize{\srcsize}{5pt}{5pt}}
%%	\makeatother
%	\printbibliography
%\end{frame}

\begin{frame}{}
\end{frame}

\end{document}
